/* ==UserStyle==
@name           FaceBullshit
@namespace      https://github.com/FlandreDaisuki
@version        2.0.0
@description    Beautify Facebook 2020-09 layout
@author         FlandreDaisuki
@license        CC-BY-SA-4.0
@updateURL      https://raw.githubusercontent.com/FlandreDaisuki/My-Browser-Extensions/master/usercss/FaceBullshit.user.css

@preprocessor stylus
@var text custom-chatroom-height '小聊天室高度' calc(100vh - 84px)
@var checkbox no-ig '不要 instagram' 1
@var checkbox no-left-col '不要左引導欄' 1
@var checkbox no-right-col '不要右聊天欄' 1
@var checkbox no-video-chat '不要視訊圈' 1
==/UserStyle== */
@-moz-document domain("www.facebook.com") {
  /* 本樣式 logo */
  [aria-label="Facebook"][role="link"] {
    background: url(https://static.xx.fbcdn.net/images/emoji.php/v9/tfe/1/32/1f4a9.png);
    background-size: contain;
    height: 40px;
    width: 40px;
  }
  [aria-label="Facebook"][role="link"] > *,
  [aria-hidden="false"] + [aria-label="Facebook"][role="link"] {
    display: none;
  }

  [aria-label="Facebook"][role="navigation"] {
    /* 上導覽列 */
    display: none;
  }
  [data-pagelet="page"] > div:first-child > div:first-child {
    /* 下內容 layout */
  }
  [data-pagelet="page"] > div:first-child > div:first-child > [role="navigation"] {
    /* 左捷徑欄 */
  }
  [data-pagelet="page"] > div:first-child > div:first-child > [role="main"] {
    /* 中動態欄 */
    justify-content: start;
    padding-left: initial;
  }
  [data-pagelet="page"] > div:first-child > div:first-child > [role="complementary"] {
    /* 右聊天欄 */
  }


  /* 自訂聊天室高度 */
  [data-pagelet="ChatTab"] [role="region"] {
    --chatroom-height: custom-chatroom-height;
    height: var(--chatroom-height, 455px);
  }
  /* 不要左引導欄 */
  if (no-left-col) {
    [data-pagelet="page"] > div:first-child > div:first-child > [role="navigation"] {
      display: none;
    }
  }
  /* 不要右聊天欄 */
  if (no-right-col) {
    [data-pagelet="page"] > div:first-child > div:first-child > [role="complementary"] {
      display: none;
    }
  }
  /* 不要 instagram */
  if (no-ig) {
    #ssrb_stories_start + div {
      display: none;
    }
    [data-pagelet="page"] > div:first-child > div:first-child > [role="main"] .l6v480f0 {
      border-top: none;
    }
  }
  /* 不要視訊圈 */
  if (no-video-chat) {
    #ssrb_composer_start + div + div + div {
      display: none;
    }
  }
}
